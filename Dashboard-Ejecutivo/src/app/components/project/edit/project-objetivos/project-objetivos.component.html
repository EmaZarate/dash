<div class="card card-statistics">
  <div class="card-body">
    <div class="buttons-panel">
      <div *ngIf="!isEditing && userRol == 'admin'">
        <a class="pr-2" href="javascript:void(0)" (click)="editMode()"><i class="fa fa-pencil"></i></a>
      </div>
      <div *ngIf="isEditing">
        <a class="pr-2" href="javascript:void(0)" (click)="cancelChanges()"><i class="fa fa-times"></i></a>
        <a class="pr-2" href="javascript:void(0)" (click)="saveChanges()"><i class="fa fa-save"></i></a>
      </div>
    </div>
    <h5 class="card-title">Objetivos </h5>

    <div class="ui-g-12" *ngIf="!isEditing">
      <div *ngIf="selectedProject?.objetivos.length == 0">
        <p> No se encontraron objetivos </p>
      </div>

      <p *ngFor="let objetivo of selectedProject?.objetivos">
        <i class="fa fa-angle-right fa-1x list"></i> {{objetivo.descripcion}}
      </p>
    </div>
    <div *ngIf="isEditing">
      <div class="card-body">
        <div class="row">
          <div class="table-responsive col-md-6">
            <table class="table mb-0">
              <thead>
                <tr>
                  <th>Objetivo</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let objetivo of selectedProject?.objetivos">
                  <td>{{objetivo.descripcion}}</td>
                  <td>
                    <a class="pr-2" href="javascript:void(0)" (click)="editRow(objetivo.idObjetivo, objetivo.tempId)"><i class="fa fa-pencil"></i></a>
                    <a class="pr-2" href="javascript:void(0)" (click)="deleteRow(objetivo.idObjetivo, objetivo.tempId)"><i class="fa fa-trash"></i></a>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="col-md-6">
            <a *ngIf="!isEditingObjetivo && !isAddingObjetivo" (click)="newRow()" class="pr-2 add-row-button" href="javascript:void(0)"><i
                class="fa fa-plus"></i></a>
            <div *ngIf="isEditingObjetivo || isAddingObjetivo" class="form-group">
              <!-- <input [(ngModel)]="newObjetivo" type="text" class="form-control"> -->
              <label for="">{{isAddingObjetivo ? 'Nuevo objetivo' : 'Actualizar objetivo'}}</label>
              <div class="input-group">
                <input type="text" class="form-control" [(ngModel)]="newObjetivo.descripcion" value="{{newObjetivo.descripcion}}"
                  placeholder="Escriba el objetivo..." aria-describedby="basic-addon2">
                <div class="input-group-append">
                  <button class="btn btn-success" (click)="addObjetivo()" type="button"><i class="fa fa-check"></i></button>
                  <button class="btn btn-danger" (click)="cancelEdition()" type="button"><i class="fa fa-times"></i></button>
                </div>
              </div>

            </div>

          </div>
        </div>

      </div>
    </div>

  </div>

</div>
